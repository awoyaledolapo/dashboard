import{r as a,R as P,t as at}from"./react-BFkPTSB5.js";import{r as pe}from"./react-dom-BhEmN__I.js";import{$ as bt,a as Et}from"./@react-aria-Cq5D65qY.js";import{u as un,o as on,s as an,f as sn,i as cn,a as dn,b as fn,c as pn,d as mn}from"./@floating-ui-CTyxgWVL.js";var vn=Object.defineProperty,hn=(e,t,n)=>t in e?vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Be=(e,t,n)=>(hn(e,typeof t!="symbol"?t+"":t,n),n);let gn=class{constructor(){Be(this,"current",this.detect()),Be(this,"handoffState","pending"),Be(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ce=new gn;function ae(e){return ce.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function yt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function te(){let e=[],t={addEventListener(n,r,l,u){return n.addEventListener(r,l,u),t.add(()=>n.removeEventListener(r,l,u))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return yt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,l){let u=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:l}),this.add(()=>{Object.assign(n.style,{[r]:u})})},group(n){let r=te();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let l of e.splice(r,1))l()}},dispose(){for(let n of e.splice(0))n()}};return t}function ye(){let[e]=a.useState(te);return a.useEffect(()=>()=>e.dispose(),[e]),e}let k=(e,t)=>{ce.isServer?a.useEffect(e,t):a.useLayoutEffect(e,t)};function re(e){let t=a.useRef(e);return k(()=>{t.current=e},[e]),t}let y=function(e){let t=re(e);return P.useCallback((...n)=>t.current(...n),[t])};function bn(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function En(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function St({disabled:e=!1}={}){let t=a.useRef(null),[n,r]=a.useState(!1),l=ye(),u=y(()=>{t.current=null,r(!1),l.dispose()}),i=y(s=>{if(l.dispose(),t.current===null){t.current=s.currentTarget,r(!0);{let o=ae(s.currentTarget);l.addEventListener(o,"pointerup",u,!1),l.addEventListener(o,"pointermove",f=>{if(t.current){let c=bn(f);r(En(c,t.current.getBoundingClientRect()))}},!1),l.addEventListener(o,"pointercancel",u,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:i,onPointerUp:u,onClick:u}}}let yn=a.createContext(void 0);function Pt(){return a.useContext(yn)}function Ve(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function z(e,t,...n){if(e in t){let l=t[e];return typeof l=="function"?l(...n):l}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(l=>`"${l}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,z),r}var oe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(oe||{}),le=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(le||{});function U(){let e=Pn();return a.useCallback(t=>Sn({mergeRefs:e,...t}),[e])}function Sn({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:l,visible:u=!0,name:i,mergeRefs:s}){s=s??wn;let o=wt(t,e);if(u)return $e(o,n,r,i,s);let f=l??0;if(f&2){let{static:c=!1,...m}=o;if(c)return $e(m,n,r,i,s)}if(f&1){let{unmount:c=!0,...m}=o;return z(c?0:1,{0(){return null},1(){return $e({...m,hidden:!0,style:{display:"none"}},n,r,i,s)}})}return $e(o,n,r,i,s)}function $e(e,t={},n,r,l){let{as:u=n,children:i,refName:s="ref",...o}=je(e,["unmount","static"]),f=e.ref!==void 0?{[s]:e.ref}:{},c=typeof i=="function"?i(t):i;"className"in o&&o.className&&typeof o.className=="function"&&(o.className=o.className(t)),o["aria-labelledby"]&&o["aria-labelledby"]===o.id&&(o["aria-labelledby"]=void 0);let m={};if(t){let d=!1,p=[];for(let[h,b]of Object.entries(t))typeof b=="boolean"&&(d=!0),b===!0&&p.push(h.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(d){m["data-headlessui-state"]=p.join(" ");for(let h of p)m[`data-${h}`]=""}}if(u===a.Fragment&&(Object.keys(ie(o)).length>0||Object.keys(ie(m)).length>0))if(!a.isValidElement(c)||Array.isArray(c)&&c.length>1){if(Object.keys(ie(o)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ie(o)).concat(Object.keys(ie(m))).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}else{let d=c.props,p=d==null?void 0:d.className,h=typeof p=="function"?(...E)=>Ve(p(...E),o.className):Ve(p,o.className),b=h?{className:h}:{},v=wt(c.props,ie(je(o,["ref"])));for(let E in m)E in v&&delete m[E];return a.cloneElement(c,Object.assign({},v,m,f,{ref:l($n(c),f.ref)},b))}return a.createElement(u,Object.assign({},je(o,["ref"]),u!==a.Fragment&&f,u!==a.Fragment&&m),c)}function Pn(){let e=a.useRef([]),t=a.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function wn(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function wt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let l in r)l.startsWith("on")&&typeof r[l]=="function"?(n[l]!=null||(n[l]=[]),n[l].push(r[l])):t[l]=r[l];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[l=>{var u;return(u=l==null?void 0:l.preventDefault)==null?void 0:u.call(l)}]);for(let r in n)Object.assign(t,{[r](l,...u){let i=n[r];for(let s of i){if((l instanceof Event||(l==null?void 0:l.nativeEvent)instanceof Event)&&l.defaultPrevented)return;s(l,...u)}}});return t}function be(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let l in r)l.startsWith("on")&&typeof r[l]=="function"?(n[l]!=null||(n[l]=[]),n[l].push(r[l])):t[l]=r[l];for(let r in n)Object.assign(t,{[r](...l){let u=n[r];for(let i of u)i==null||i(...l)}});return t}function H(e){var t;return Object.assign(a.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ie(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function je(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function $n(e){return P.version.split(".")[0]>="19"?e.props.ref:e.ref}let xn="span";var Ee=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ee||{});function In(e,t){var n;let{features:r=1,...l}=e,u={ref:t,"aria-hidden":(r&2)===2?!0:(n=l["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return U()({ourProps:u,theirProps:l,slot:{},defaultTag:xn,name:"Hidden"})}let xe=H(In),Cn=a.createContext(void 0);function Fn(){return a.useContext(Cn)}function Xe(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Tn(n)?!1:r}function Tn(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let $t=Symbol();function xt(e,t=!0){return Object.assign(e,{[$t]:t})}function V(...e){let t=a.useRef(e);a.useEffect(()=>{t.current=e},[e]);let n=y(r=>{for(let l of t.current)l!=null&&(typeof l=="function"?l(r):l.current=r)});return e.every(r=>r==null||(r==null?void 0:r[$t]))?void 0:n}let ze=a.createContext(null);ze.displayName="DescriptionContext";function It(){let e=a.useContext(ze);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,It),t}return e}function Mn(){let[e,t]=a.useState([]);return[e.length>0?e.join(" "):void 0,a.useMemo(()=>function(n){let r=y(u=>(t(i=>[...i,u]),()=>t(i=>{let s=i.slice(),o=s.indexOf(u);return o!==-1&&s.splice(o,1),s}))),l=a.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return P.createElement(ze.Provider,{value:l},n.children)},[t])]}let Rn="p";function On(e,t){let n=a.useId(),r=Pt(),{id:l=`headlessui-description-${n}`,...u}=e,i=It(),s=V(t);k(()=>i.register(l),[l,i.register]);let o=r||!1,f=a.useMemo(()=>({...i.slot,disabled:o}),[i.slot,o]),c={ref:s,...i.props,id:l};return U()({ourProps:c,theirProps:u,slot:f,defaultTag:Rn,name:i.name||"Description"})}let kn=H(On);Object.assign(kn,{});var L=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(L||{});let Ce=a.createContext(null);Ce.displayName="LabelContext";function Je(){let e=a.useContext(Ce);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Je),t}return e}function An(e){var t,n,r;let l=(n=(t=a.useContext(Ce))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[l,...e].filter(Boolean).join(" "):l}function Ct({inherit:e=!1}={}){let t=An(),[n,r]=a.useState([]),l=e?[t,...n].filter(Boolean):n;return[l.length>0?l.join(" "):void 0,a.useMemo(()=>function(u){let i=y(o=>(r(f=>[...f,o]),()=>r(f=>{let c=f.slice(),m=c.indexOf(o);return m!==-1&&c.splice(m,1),c}))),s=a.useMemo(()=>({register:i,slot:u.slot,name:u.name,props:u.props,value:u.value}),[i,u.slot,u.name,u.props,u.value]);return P.createElement(Ce.Provider,{value:s},u.children)},[r])]}let Nn="label";function Ln(e,t){var n;let r=a.useId(),l=Je(),u=Fn(),i=Pt(),{id:s=`headlessui-label-${r}`,htmlFor:o=u??((n=l.props)==null?void 0:n.htmlFor),passive:f=!1,...c}=e,m=V(t);k(()=>l.register(s),[s,l.register]);let d=y(v=>{let E=v.currentTarget;if(E instanceof HTMLLabelElement&&v.preventDefault(),l.props&&"onClick"in l.props&&typeof l.props.onClick=="function"&&l.props.onClick(v),E instanceof HTMLLabelElement){let w=document.getElementById(E.htmlFor);if(w){let x=w.getAttribute("disabled");if(x==="true"||x==="")return;let F=w.getAttribute("aria-disabled");if(F==="true"||F==="")return;(w instanceof HTMLInputElement&&(w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),p=i||!1,h=a.useMemo(()=>({...l.slot,disabled:p}),[l.slot,p]),b={ref:m,...l.props,id:s,htmlFor:o,onClick:d};return f&&("onClick"in b&&(delete b.htmlFor,delete b.onClick),"onClick"in c&&delete c.onClick),U()({ourProps:b,theirProps:c,slot:h,defaultTag:o?Nn:"div",name:l.name||"Label"})}let Dn=H(Ln);Object.assign(Dn,{});let Hn=a.createContext(()=>{});function _n({value:e,children:t}){return P.createElement(Hn.Provider,{value:e},t)}function Bn(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Ft(e,t=!1){let[n,r]=a.useReducer(()=>({}),{}),l=a.useMemo(()=>Bn(e),[e,n]);return k(()=>{if(!e)return;let u=new ResizeObserver(r);return u.observe(e),()=>{u.disconnect()}},[e]),t?{width:`${l.width}px`,height:`${l.height}px`}:l}let jn=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function Tt(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(l){return r.add(l),()=>r.delete(l)},dispatch(l,...u){let i=t[l].call(n,...u);i&&(n=i,r.forEach(s=>s()))}}}function Mt(e){return a.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let Un=new jn(()=>Tt(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function Ze(e,t){let n=Un.get(t),r=a.useId(),l=Mt(n);if(k(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let u=l.indexOf(r),i=l.length;return u===-1&&(u=i,i+=1),u===i-1}let Ge=new Map,ge=new Map;function it(e){var t;let n=(t=ge.get(e))!=null?t:0;return ge.set(e,n+1),n!==0?()=>st(e):(Ge.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>st(e))}function st(e){var t;let n=(t=ge.get(e))!=null?t:1;if(n===1?ge.delete(e):ge.set(e,n-1),n!==1)return;let r=Ge.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Ge.delete(e))}function Kn(e,{allowed:t,disallowed:n}={}){let r=Ze(e,"inert-others");k(()=>{var l,u;if(!r)return;let i=te();for(let o of(l=n==null?void 0:n())!=null?l:[])o&&i.add(it(o));let s=(u=t==null?void 0:t())!=null?u:[];for(let o of s){if(!o)continue;let f=ae(o);if(!f)continue;let c=o.parentElement;for(;c&&c!==f.body;){for(let m of c.children)s.some(d=>m.contains(d))||i.add(it(m));c=c.parentElement}}return i.dispose},[r,t,n])}function Rt(e,t,n){let r=re(l=>{let u=l.getBoundingClientRect();u.x===0&&u.y===0&&u.width===0&&u.height===0&&n()});a.useEffect(()=>{if(!e)return;let l=t===null?null:t instanceof HTMLElement?t:t.current;if(!l)return;let u=te();if(typeof ResizeObserver<"u"){let i=new ResizeObserver(()=>r.current(l));i.observe(l),u.add(()=>i.disconnect())}if(typeof IntersectionObserver<"u"){let i=new IntersectionObserver(()=>r.current(l));i.observe(l),u.add(()=>i.disconnect())}return()=>u.dispose()},[t,r,e])}let qe=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Wn=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ee=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(ee||{}),Ie=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Ie||{}),Vn=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Vn||{});function Se(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(qe)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Gn(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Wn)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Fe=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Fe||{});function Te(e,t=0){var n;return e===((n=ae(e))==null?void 0:n.body)?!1:z(t,{0(){return e.matches(qe)},1(){let r=e;for(;r!==null;){if(r.matches(qe))return!0;r=r.parentElement}return!1}})}function Ot(e){let t=ae(e);te().nextFrame(()=>{t&&!Te(t.activeElement,0)&&Yn(e)})}var qn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(qn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Yn(e){e==null||e.focus({preventScroll:!0})}let Qn=["textarea","input"].join(",");function Xn(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Qn))!=null?n:!1}function kt(e,t=n=>n){return e.slice().sort((n,r)=>{let l=t(n),u=t(r);if(l===null||u===null)return 0;let i=l.compareDocumentPosition(u);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function zn(e,t){return ue(Se(),t,{relativeTo:e})}function ue(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:l=[]}={}){let u=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?n?kt(e):e:t&64?Gn(e):Se(e);l.length>0&&i.length>1&&(i=i.filter(p=>!l.some(h=>h!=null&&"current"in h?(h==null?void 0:h.current)===p:h===p))),r=r??u.activeElement;let s=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),o=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(r))-1;if(t&4)return Math.max(0,i.indexOf(r))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},c=0,m=i.length,d;do{if(c>=m||c+m<=0)return 0;let p=o+c;if(t&16)p=(p+m)%m;else{if(p<0)return 3;if(p>=m)return 1}d=i[p],d==null||d.focus(f),c+=s}while(d!==u.activeElement);return t&6&&Xn(d)&&d.select(),2}function At(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Jn(){return/Android/gi.test(window.navigator.userAgent)}function Zn(){return At()||Jn()}function he(e,t,n,r){let l=re(n);a.useEffect(()=>{if(!e)return;function u(i){l.current(i)}return document.addEventListener(t,u,r),()=>document.removeEventListener(t,u,r)},[e,t,r])}function Nt(e,t,n,r){let l=re(n);a.useEffect(()=>{if(!e)return;function u(i){l.current(i)}return window.addEventListener(t,u,r),()=>window.removeEventListener(t,u,r)},[e,t,r])}const ct=30;function Lt(e,t,n){let r=Ze(e,"outside-click"),l=re(n),u=a.useCallback(function(o,f){if(o.defaultPrevented)return;let c=f(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let m=function d(p){return typeof p=="function"?d(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let d of m)if(d!==null&&(d.contains(c)||o.composed&&o.composedPath().includes(d)))return;return!Te(c,Fe.Loose)&&c.tabIndex!==-1&&o.preventDefault(),l.current(o,c)},[l,t]),i=a.useRef(null);he(r,"pointerdown",o=>{var f,c;i.current=((c=(f=o.composedPath)==null?void 0:f.call(o))==null?void 0:c[0])||o.target},!0),he(r,"mousedown",o=>{var f,c;i.current=((c=(f=o.composedPath)==null?void 0:f.call(o))==null?void 0:c[0])||o.target},!0),he(r,"click",o=>{Zn()||i.current&&(u(o,()=>i.current),i.current=null)},!0);let s=a.useRef({x:0,y:0});he(r,"touchstart",o=>{s.current.x=o.touches[0].clientX,s.current.y=o.touches[0].clientY},!0),he(r,"touchend",o=>{let f={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(f.x-s.current.x)>=ct||Math.abs(f.y-s.current.y)>=ct))return u(o,()=>o.target instanceof HTMLElement?o.target:null)},!0),Nt(r,"blur",o=>u(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function de(...e){return a.useMemo(()=>ae(...e),[...e])}function er(e,t,n,r){let l=re(n);a.useEffect(()=>{e=e??window;function u(i){l.current(i)}return e.addEventListener(t,u,r),()=>e.removeEventListener(t,u,r)},[e,t,r])}function Dt(e,t){return a.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function tr(){let e;return{before({doc:t}){var n;let r=t.documentElement,l=(n=t.defaultView)!=null?n:window;e=Math.max(0,l.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,l=Math.max(0,r.clientWidth-r.offsetWidth),u=Math.max(0,e-l);n.style(r,"paddingRight",`${u}px`)}}}function nr(){return At()?{before({doc:e,d:t,meta:n}){function r(l){return n.containers.flatMap(u=>u()).some(u=>u.contains(l))}t.microTask(()=>{var l;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let s=te();s.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>s.dispose()))}let u=(l=window.scrollY)!=null?l:window.pageYOffset,i=null;t.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let o=s.target.closest("a");if(!o)return;let{hash:f}=new URL(o.href),c=e.querySelector(f);c&&!r(c)&&(i=c)}catch{}},!0),t.addEventListener(e,"touchstart",s=>{if(s.target instanceof HTMLElement)if(r(s.target)){let o=s.target;for(;o.parentElement&&r(o.parentElement);)o=o.parentElement;t.style(o,"overscrollBehavior","contain")}else t.style(s.target,"touchAction","none")}),t.addEventListener(e,"touchmove",s=>{if(s.target instanceof HTMLElement){if(s.target.tagName==="INPUT")return;if(r(s.target)){let o=s.target;for(;o.parentElement&&o.dataset.headlessuiPortal!==""&&!(o.scrollHeight>o.clientHeight||o.scrollWidth>o.clientWidth);)o=o.parentElement;o.dataset.headlessuiPortal===""&&s.preventDefault()}else s.preventDefault()}},{passive:!1}),t.add(()=>{var s;let o=(s=window.scrollY)!=null?s:window.pageYOffset;u!==o&&window.scrollTo(0,u),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function rr(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function lr(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let se=Tt(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:te(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:lr(n)},l=[nr(),tr(),rr()];l.forEach(({before:u})=>u==null?void 0:u(r)),l.forEach(({after:u})=>u==null?void 0:u(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});se.subscribe(()=>{let e=se.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",l=n.count!==0;(l&&!r||!l&&r)&&se.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&se.dispatch("TEARDOWN",n)}});function ur(e,t,n=()=>({containers:[]})){let r=Mt(se),l=t?r.get(t):void 0,u=l?l.count>0:!1;return k(()=>{if(!(!t||!e))return se.dispatch("PUSH",t,n),()=>se.dispatch("POP",t,n)},[e,t]),u}function Ht(e,t,n=()=>[document.body]){let r=Ze(e,"scroll-lock");ur(r,t,l=>{var u;return{containers:[...(u=l.containers)!=null?u:[],n]}})}function dt(e){return[e.screenX,e.screenY]}function or(){let e=a.useRef([-1,-1]);return{wasMoved(t){let n=dt(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=dt(t)}}}function ar(e=0){let[t,n]=a.useState(e),r=a.useCallback(o=>n(o),[t]),l=a.useCallback(o=>n(f=>f|o),[t]),u=a.useCallback(o=>(t&o)===o,[t]),i=a.useCallback(o=>n(f=>f&~o),[n]),s=a.useCallback(o=>n(f=>f^o),[n]);return{flags:t,setFlag:r,addFlag:l,hasFlag:u,removeFlag:i,toggleFlag:s}}var ir={},ft,pt;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((ft=process==null?void 0:ir)==null?void 0:ft.NODE_ENV)==="test"&&typeof((pt=Element==null?void 0:Element.prototype)==null?void 0:pt.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var sr=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(sr||{});function Me(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Re(e,t,n,r){let[l,u]=a.useState(n),{hasFlag:i,addFlag:s,removeFlag:o}=ar(e&&l?3:0),f=a.useRef(!1),c=a.useRef(!1),m=ye();return k(()=>{var d;if(e){if(n&&u(!0),!t){n&&s(3);return}return(d=r==null?void 0:r.start)==null||d.call(r,n),cr(t,{inFlight:f,prepare(){c.current?c.current=!1:c.current=f.current,f.current=!0,!c.current&&(n?(s(3),o(4)):(s(4),o(2)))},run(){c.current?n?(o(3),s(4)):(o(4),s(3)):n?o(1):s(1)},done(){var p;c.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(f.current=!1,o(7),n||u(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,m]),e?[l,{closed:i(1),enter:i(2),leave:i(4),transition:i(2)||i(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function cr(e,{prepare:t,run:n,done:r,inFlight:l}){let u=te();return fr(e,{prepare:t,inFlight:l}),u.nextFrame(()=>{n(),u.requestAnimationFrame(()=>{u.add(dr(e,r))})}),u.dispose}function dr(e,t){var n,r;let l=te();if(!e)return l.dispose;let u=!1;l.add(()=>{u=!0});let i=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(s=>s instanceof CSSTransition))!=null?r:[];return i.length===0?(t(),l.dispose):(Promise.allSettled(i.map(s=>s.finished)).then(()=>{u||t()}),l.dispose)}function fr(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function pr(e,{container:t,accept:n,walk:r}){let l=a.useRef(n),u=a.useRef(r);a.useEffect(()=>{l.current=n,u.current=r},[n,r]),k(()=>{if(!t||!e)return;let i=ae(t);if(!i)return;let s=l.current,o=u.current,f=Object.assign(m=>s(m),{acceptNode:s}),c=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,f,!1);for(;c.nextNode();)o(c.currentNode)},[t,e,l,u])}let me=a.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});me.displayName="FloatingContext";let et=a.createContext(null);et.displayName="PlacementContext";function _t(e){return a.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Bt(){return a.useContext(me).setReference}function mr(){return a.useContext(me).getReferenceProps}function jt(){let{getFloatingProps:e,slot:t}=a.useContext(me);return a.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Ut(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=a.useContext(et),n=a.useMemo(()=>e,[JSON.stringify(e,(l,u)=>{var i;return(i=u==null?void 0:u.outerHTML)!=null?i:u})]);k(()=>{t==null||t(n??null)},[t,n]);let r=a.useContext(me);return a.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let mt=4;function Kt({children:e,enabled:t=!0}){let[n,r]=a.useState(null),[l,u]=a.useState(0),i=a.useRef(null),[s,o]=a.useState(null);vr(s);let f=t&&n!==null&&s!==null,{to:c="bottom",gap:m=0,offset:d=0,padding:p=0,inner:h}=hr(n,s),[b,v="center"]=c.split(" ");k(()=>{f&&u(0)},[f]);let{refs:E,floatingStyles:w,context:x}=un({open:f,placement:b==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${b}`:`${b}-${v}`,strategy:"absolute",transform:!1,middleware:[on({mainAxis:b==="selection"?0:m,crossAxis:d}),an({padding:p}),b!=="selection"&&sn({padding:p}),b==="selection"&&h?cn({...h,padding:p,overflowRef:i,offset:l,minItemsVisible:mt,referenceOverflowThreshold:p,onFallbackChange(M){var _,B;if(!M)return;let D=x.elements.floating;if(!D)return;let Y=parseFloat(getComputedStyle(D).scrollPaddingBottom)||0,Q=Math.min(mt,D.childElementCount),X=0,S=0;for(let $ of(B=(_=x.elements.floating)==null?void 0:_.childNodes)!=null?B:[])if($ instanceof HTMLElement){let g=$.offsetTop,T=g+$.clientHeight+Y,C=D.scrollTop,R=C+D.clientHeight;if(g>=C&&T<=R)Q--;else{S=Math.max(0,Math.min(T,R)-Math.max(g,C)),X=$.clientHeight;break}}Q>=1&&u($=>{let g=X*Q-S+Y;return $>=g?$:g})}}):null,dn({padding:p,apply({availableWidth:M,availableHeight:_,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${M}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${_}px)`})}})].filter(Boolean),whileElementsMounted:fn}),[F=b,O=v]=x.placement.split("-");b==="selection"&&(F="selection");let K=a.useMemo(()=>({anchor:[F,O].filter(Boolean).join(" ")}),[F,O]),I=pn(x,{overflowRef:i,onChange:u}),{getReferenceProps:N,getFloatingProps:G}=mn([I]),A=y(M=>{o(M),E.setFloating(M)});return a.createElement(et.Provider,{value:r},a.createElement(me.Provider,{value:{setFloating:A,setReference:E.setReference,styles:w,getReferenceProps:N,getFloatingProps:G,slot:K}},e))}function vr(e){k(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let l=parseInt(n);isNaN(l)||r!==l&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function hr(e,t){var n,r,l;let u=Ue((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),i=Ue((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),s=Ue((l=e==null?void 0:e.padding)!=null?l:"var(--anchor-padding, 0)",t);return{...e,gap:u,offset:i,padding:s}}function Ue(e,t,n=void 0){let r=ye(),l=y((o,f)=>{if(o==null)return[n,null];if(typeof o=="number")return[o,null];if(typeof o=="string"){if(!f)return[n,null];let c=vt(o,f);return[c,m=>{let d=Wt(o);{let p=d.map(h=>window.getComputedStyle(f).getPropertyValue(h));r.requestAnimationFrame(function h(){r.nextFrame(h);let b=!1;for(let[E,w]of d.entries()){let x=window.getComputedStyle(f).getPropertyValue(w);if(p[E]!==x){p[E]=x,b=!0;break}}if(!b)return;let v=vt(o,f);c!==v&&(m(v),c=v)})}return r.dispose}]}return[n,null]}),u=a.useMemo(()=>l(e,t)[0],[e,t]),[i=u,s]=a.useState();return k(()=>{let[o,f]=l(e,t);if(s(o),!!f)return f(s)},[e,t]),i}function Wt(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),l=t[1].slice(n+1).trim();return l?[r,...Wt(l)]:[r]}return[]}function vt(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let Oe=a.createContext(null);Oe.displayName="OpenClosedContext";var W=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(W||{});function Pe(){return a.useContext(Oe)}function tt({value:e,children:t}){return P.createElement(Oe.Provider,{value:e},t)}function gr({children:e}){return P.createElement(Oe.Provider,{value:null},e)}function br(e){throw new Error("Unexpected object: "+e)}var q=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(q||{});function Ke(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),l=r??-1;switch(e.focus){case 0:{for(let u=0;u<n.length;++u)if(!t.resolveDisabled(n[u],u,n))return u;return r}case 1:{l===-1&&(l=n.length);for(let u=l-1;u>=0;--u)if(!t.resolveDisabled(n[u],u,n))return u;return r}case 2:{for(let u=l+1;u<n.length;++u)if(!t.resolveDisabled(n[u],u,n))return u;return r}case 3:{for(let u=n.length-1;u>=0;--u)if(!t.resolveDisabled(n[u],u,n))return u;return r}case 4:{for(let u=0;u<n.length;++u)if(t.resolveId(n[u],u,n)===e.id)return u;return r}case 5:return null;default:br(e)}}function Er(e){let t=y(e),n=a.useRef(!1);a.useEffect(()=>(n.current=!1,()=>{n.current=!0,yt(()=>{n.current&&t()})}),[t])}function yr(){let e=typeof document>"u";return"useSyncExternalStore"in at?(t=>t.useSyncExternalStore)(at)(()=>()=>{},()=>!1,()=>!e):!1}function nt(){let e=yr(),[t,n]=a.useState(ce.isHandoffComplete);return t&&ce.isHandoffComplete===!1&&n(!1),a.useEffect(()=>{t!==!0&&n(!0)},[t]),a.useEffect(()=>ce.handoff(),[]),e?!1:t}let Sr=a.createContext(!1);function Pr(){return a.useContext(Sr)}function wr(e){let t=Pr(),n=a.useContext(Gt),r=de(e),[l,u]=a.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(ce.isServer)return null;let s=r==null?void 0:r.getElementById("headlessui-portal-root");if(s)return s;if(r===null)return null;let o=r.createElement("div");return o.setAttribute("id","headlessui-portal-root"),r.body.appendChild(o)});return a.useEffect(()=>{l!==null&&(r!=null&&r.body.contains(l)||r==null||r.body.appendChild(l))},[l,r]),a.useEffect(()=>{t||n!==null&&u(n.current)},[n,u,t]),l}let Vt=a.Fragment,$r=H(function(e,t){let n=e,r=a.useRef(null),l=V(xt(m=>{r.current=m}),t),u=de(r),i=wr(r),[s]=a.useState(()=>{var m;return ce.isServer?null:(m=u==null?void 0:u.createElement("div"))!=null?m:null}),o=a.useContext(Ye),f=nt();k(()=>{!i||!s||i.contains(s)||(s.setAttribute("data-headlessui-portal",""),i.appendChild(s))},[i,s]),k(()=>{if(s&&o)return o.register(s)},[o,s]),Er(()=>{var m;!i||!s||(s instanceof Node&&i.contains(s)&&i.removeChild(s),i.childNodes.length<=0&&((m=i.parentElement)==null||m.removeChild(i)))});let c=U();return f?!i||!s?null:pe.createPortal(c({ourProps:{ref:l},theirProps:n,slot:{},defaultTag:Vt,name:"Portal"}),s):null});function xr(e,t){let n=V(t),{enabled:r=!0,...l}=e,u=U();return r?P.createElement($r,{...l,ref:n}):u({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:Vt,name:"Portal"})}let Ir=a.Fragment,Gt=a.createContext(null);function Cr(e,t){let{target:n,...r}=e,l={ref:V(t)},u=U();return P.createElement(Gt.Provider,{value:n},u({ourProps:l,theirProps:r,defaultTag:Ir,name:"Popover.Group"}))}let Ye=a.createContext(null);function Fr(){let e=a.useContext(Ye),t=a.useRef([]),n=y(u=>(t.current.push(u),e&&e.register(u),()=>r(u))),r=y(u=>{let i=t.current.indexOf(u);i!==-1&&t.current.splice(i,1),e&&e.unregister(u)}),l=a.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,a.useMemo(()=>function({children:u}){return P.createElement(Ye.Provider,{value:l},u)},[l])]}let Tr=H(xr),Mr=H(Cr),qt=Object.assign(Tr,{Group:Mr});function Rr({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=de(n),l=y(()=>{var u,i;let s=[];for(let o of e)o!==null&&(o instanceof HTMLElement?s.push(o):"current"in o&&o.current instanceof HTMLElement&&s.push(o.current));if(t!=null&&t.current)for(let o of t.current)s.push(o);for(let o of(u=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?u:[])o!==document.body&&o!==document.head&&o instanceof HTMLElement&&o.id!=="headlessui-portal-root"&&(n&&(o.contains(n)||o.contains((i=n==null?void 0:n.getRootNode())==null?void 0:i.host))||s.some(f=>o.contains(f))||s.push(o));return s});return{resolveContainers:l,contains:y(u=>l().some(i=>i.contains(u)))}}let Yt=a.createContext(null);function Qt({children:e,node:t}){let[n,r]=a.useState(null),l=Xt(t??n);return P.createElement(Yt.Provider,{value:l},e,l===null&&P.createElement(xe,{features:Ee.Hidden,ref:u=>{var i,s;if(u){for(let o of(s=(i=ae(u))==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?s:[])if(o!==document.body&&o!==document.head&&o instanceof HTMLElement&&o!=null&&o.contains(u)){r(o);break}}}}))}function Xt(e=null){var t;return(t=a.useContext(Yt))!=null?t:e}function Or(){let e=a.useRef(!1);return k(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ne=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ne||{});function zt(){let e=a.useRef(0);return Nt(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Jt(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:en)!==a.Fragment||P.Children.count(e.children)===1}let ke=a.createContext(null);ke.displayName="TransitionContext";var kr=(e=>(e.Visible="visible",e.Hidden="hidden",e))(kr||{});function Ar(){let e=a.useContext(ke);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Nr(){let e=a.useContext(Ae);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ae=a.createContext(null);Ae.displayName="NestingContext";function Ne(e){return"children"in e?Ne(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Zt(e,t){let n=re(e),r=a.useRef([]),l=Or(),u=ye(),i=y((p,h=le.Hidden)=>{let b=r.current.findIndex(({el:v})=>v===p);b!==-1&&(z(h,{[le.Unmount](){r.current.splice(b,1)},[le.Hidden](){r.current[b].state="hidden"}}),u.microTask(()=>{var v;!Ne(r)&&l.current&&((v=n.current)==null||v.call(n))}))}),s=y(p=>{let h=r.current.find(({el:b})=>b===p);return h?h.state!=="visible"&&(h.state="visible"):r.current.push({el:p,state:"visible"}),()=>i(p,le.Unmount)}),o=a.useRef([]),f=a.useRef(Promise.resolve()),c=a.useRef({enter:[],leave:[]}),m=y((p,h,b)=>{o.current.splice(0),t&&(t.chains.current[h]=t.chains.current[h].filter(([v])=>v!==p)),t==null||t.chains.current[h].push([p,new Promise(v=>{o.current.push(v)})]),t==null||t.chains.current[h].push([p,new Promise(v=>{Promise.all(c.current[h].map(([E,w])=>w)).then(()=>v())})]),h==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(h)):b(h)}),d=y((p,h,b)=>{Promise.all(c.current[h].splice(0).map(([v,E])=>E)).then(()=>{var v;(v=o.current.shift())==null||v()}).then(()=>b(h))});return a.useMemo(()=>({children:r,register:s,unregister:i,onStart:m,onStop:d,wait:f,chains:c}),[s,i,r,m,d,c,f])}let en=a.Fragment,tn=oe.RenderStrategy;function Lr(e,t){var n,r;let{transition:l=!0,beforeEnter:u,afterEnter:i,beforeLeave:s,afterLeave:o,enter:f,enterFrom:c,enterTo:m,entered:d,leave:p,leaveFrom:h,leaveTo:b,...v}=e,[E,w]=a.useState(null),x=a.useRef(null),F=Jt(e),O=V(...F?[x,t,w]:t===null?[]:[t]),K=(n=v.unmount)==null||n?le.Unmount:le.Hidden,{show:I,appear:N,initial:G}=Ar(),[A,M]=a.useState(I?"visible":"hidden"),_=Nr(),{register:B,unregister:D}=_;k(()=>B(x),[B,x]),k(()=>{if(K===le.Hidden&&x.current){if(I&&A!=="visible"){M("visible");return}return z(A,{hidden:()=>D(x),visible:()=>B(x)})}},[A,x,B,D,I,K]);let Y=nt();k(()=>{if(F&&Y&&A==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,A,Y,F]);let Q=G&&!N,X=N&&I&&G,S=a.useRef(!1),$=Zt(()=>{S.current||(M("hidden"),D(x))},_),g=y(fe=>{S.current=!0;let we=fe?"enter":"leave";$.onStart(x,we,ve=>{ve==="enter"?u==null||u():ve==="leave"&&(s==null||s())})}),T=y(fe=>{let we=fe?"enter":"leave";S.current=!1,$.onStop(x,we,ve=>{ve==="enter"?i==null||i():ve==="leave"&&(o==null||o())}),we==="leave"&&!Ne($)&&(M("hidden"),D(x))});a.useEffect(()=>{F&&l||(g(I),T(I))},[I,F,l]);let C=!(!l||!F||!Y||Q),[,R]=Re(C,E,I,{start:g,end:T}),J=ie({ref:O,className:((r=Ve(v.className,X&&f,X&&c,R.enter&&f,R.enter&&R.closed&&c,R.enter&&!R.closed&&m,R.leave&&p,R.leave&&!R.closed&&h,R.leave&&R.closed&&b,!R.transition&&I&&d))==null?void 0:r.trim())||void 0,...Me(R)}),j=0;A==="visible"&&(j|=W.Open),A==="hidden"&&(j|=W.Closed),R.enter&&(j|=W.Opening),R.leave&&(j|=W.Closing);let Z=U();return P.createElement(Ae.Provider,{value:$},P.createElement(tt,{value:j},Z({ourProps:J,theirProps:v,defaultTag:en,features:tn,visible:A==="visible",name:"Transition.Child"})))}function Dr(e,t){let{show:n,appear:r=!1,unmount:l=!0,...u}=e,i=a.useRef(null),s=Jt(e),o=V(...s?[i,t]:t===null?[]:[t]);nt();let f=Pe();if(n===void 0&&f!==null&&(n=(f&W.Open)===W.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,m]=a.useState(n?"visible":"hidden"),d=Zt(()=>{n||m("hidden")}),[p,h]=a.useState(!0),b=a.useRef([n]);k(()=>{p!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),h(!1))},[b,n]);let v=a.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);k(()=>{n?m("visible"):!Ne(d)&&i.current!==null&&m("hidden")},[n,d]);let E={unmount:l},w=y(()=>{var O;p&&h(!1),(O=e.beforeEnter)==null||O.call(e)}),x=y(()=>{var O;p&&h(!1),(O=e.beforeLeave)==null||O.call(e)}),F=U();return P.createElement(Ae.Provider,{value:d},P.createElement(ke.Provider,{value:v},F({ourProps:{...E,as:a.Fragment,children:P.createElement(nn,{ref:o,...E,...u,beforeEnter:w,beforeLeave:x})},theirProps:{},defaultTag:a.Fragment,features:tn,visible:c==="visible",name:"Transition"})))}function Hr(e,t){let n=a.useContext(ke)!==null,r=Pe()!==null;return P.createElement(P.Fragment,null,!n&&r?P.createElement(Qe,{ref:t,...e}):P.createElement(nn,{ref:t,...e}))}let Qe=H(Dr),nn=H(Lr),_r=H(Hr),Wl=Object.assign(Qe,{Child:_r,Root:Qe});function Br(e,t){let n=a.useRef({left:0,top:0});if(k(()=>{if(!t)return;let l=t.getBoundingClientRect();l&&(n.current=l)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let ht=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function gt(e){var t,n;let r=(t=e.innerText)!=null?t:"",l=e.cloneNode(!0);if(!(l instanceof HTMLElement))return r;let u=!1;for(let s of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),u=!0;let i=u?(n=l.innerText)!=null?n:"":r;return ht.test(i)&&(i=i.replace(ht,"")),i}function jr(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(l=>{let u=document.getElementById(l);if(u){let i=u.getAttribute("aria-label");return typeof i=="string"?i.trim():gt(u).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return gt(e).trim()}function Ur(e){let t=a.useRef(""),n=a.useRef("");return y(()=>{let r=e.current;if(!r)return"";let l=r.innerText;if(t.current===l)return n.current;let u=jr(r).trim().toLowerCase();return t.current=l,n.current=u,u})}var Kr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Kr||{}),Wr=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Wr||{}),Vr=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e))(Vr||{});function We(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=kt(t(e.items.slice()),u=>u.dataRef.current.domRef.current),l=n?r.indexOf(n):null;return l===-1&&(l=null),{items:r,activeItemIndex:l}}let Gr={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var n,r,l,u,i;if(e.menuState===1)return e;let s={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===q.Nothing)return{...s,activeItemIndex:null};if(t.focus===q.Specific)return{...s,activeItemIndex:e.items.findIndex(c=>c.id===t.id)};if(t.focus===q.Previous){let c=e.activeItemIndex;if(c!==null){let m=e.items[c].dataRef.current.domRef,d=Ke(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(d!==null){let p=e.items[d].dataRef.current.domRef;if(((r=m.current)==null?void 0:r.previousElementSibling)===p.current||((l=p.current)==null?void 0:l.previousElementSibling)===null)return{...s,activeItemIndex:d}}}}else if(t.focus===q.Next){let c=e.activeItemIndex;if(c!==null){let m=e.items[c].dataRef.current.domRef,d=Ke(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(d!==null){let p=e.items[d].dataRef.current.domRef;if(((u=m.current)==null?void 0:u.nextElementSibling)===p.current||((i=p.current)==null?void 0:i.nextElementSibling)===null)return{...s,activeItemIndex:d}}}}let o=We(e),f=Ke(t,{resolveItems:()=>o.items,resolveActiveIndex:()=>o.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...s,...o,activeItemIndex:f}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),l=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(i=>{var s;return((s=i.dataRef.current.textValue)==null?void 0:s.startsWith(r))&&!i.dataRef.current.disabled}),u=l?e.items.indexOf(l):-1;return u===-1||u===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:u,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=We(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=We(e,r=>{let l=r.findIndex(u=>u.id===t.id);return l!==-1&&r.splice(l,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element}},rt=a.createContext(null);rt.displayName="MenuContext";function Le(e){let t=a.useContext(rt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Le),n}return t}function qr(e,t){return z(t.type,Gr,e,t)}let Yr=a.Fragment;function Qr(e,t){let{__demoMode:n=!1,...r}=e,l=a.useReducer(qr,{__demoMode:n,menuState:n?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:u,itemsElement:i,buttonElement:s},o]=l,f=V(t);Lt(u===0,[s,i],(h,b)=>{o({type:1}),Te(b,Fe.Loose)||(h.preventDefault(),s==null||s.focus())});let c=y(()=>{o({type:1})}),m=a.useMemo(()=>({open:u===0,close:c}),[u,c]),d={ref:f},p=U();return P.createElement(Kt,null,P.createElement(rt.Provider,{value:l},P.createElement(tt,{value:z(u,{0:W.Open,1:W.Closed})},p({ourProps:d,theirProps:r,slot:m,defaultTag:Yr,name:"Menu"}))))}let Xr="button";function zr(e,t){var n;let r=a.useId(),{id:l=`headlessui-menu-button-${r}`,disabled:u=!1,autoFocus:i=!1,...s}=e,[o,f]=Le("Menu.Button"),c=mr(),m=V(t,Bt(),y(I=>f({type:7,element:I}))),d=y(I=>{switch(I.key){case L.Space:case L.Enter:case L.ArrowDown:I.preventDefault(),I.stopPropagation(),pe.flushSync(()=>f({type:0})),f({type:2,focus:q.First});break;case L.ArrowUp:I.preventDefault(),I.stopPropagation(),pe.flushSync(()=>f({type:0})),f({type:2,focus:q.Last});break}}),p=y(I=>{switch(I.key){case L.Space:I.preventDefault();break}}),h=y(I=>{var N;if(Xe(I.currentTarget))return I.preventDefault();u||(o.menuState===0?(pe.flushSync(()=>f({type:1})),(N=o.buttonElement)==null||N.focus({preventScroll:!0})):(I.preventDefault(),f({type:0})))}),{isFocusVisible:b,focusProps:v}=bt({autoFocus:i}),{isHovered:E,hoverProps:w}=Et({isDisabled:u}),{pressed:x,pressProps:F}=St({disabled:u}),O=a.useMemo(()=>({open:o.menuState===0,active:x||o.menuState===0,disabled:u,hover:E,focus:b,autofocus:i}),[o,E,b,x,u,i]),K=be(c(),{ref:m,id:l,type:Dt(e,o.buttonElement),"aria-haspopup":"menu","aria-controls":(n=o.itemsElement)==null?void 0:n.id,"aria-expanded":o.menuState===0,disabled:u||void 0,autoFocus:i,onKeyDown:d,onKeyUp:p,onClick:h},v,w,F);return U()({ourProps:K,theirProps:s,slot:O,defaultTag:Xr,name:"Menu.Button"})}let Jr="div",Zr=oe.RenderStrategy|oe.Static;function el(e,t){var n,r;let l=a.useId(),{id:u=`headlessui-menu-items-${l}`,anchor:i,portal:s=!1,modal:o=!0,transition:f=!1,...c}=e,m=_t(i),[d,p]=Le("Menu.Items"),[h,b]=Ut(m),v=jt(),[E,w]=a.useState(null),x=V(t,m?h:null,y(S=>p({type:8,element:S})),w),F=de(d.itemsElement);m&&(s=!0);let O=Pe(),[K,I]=Re(f,E,O!==null?(O&W.Open)===W.Open:d.menuState===0);Rt(K,d.buttonElement,()=>{p({type:1})});let N=d.__demoMode?!1:o&&d.menuState===0;Ht(N,F);let G=d.__demoMode?!1:o&&d.menuState===0;Kn(G,{allowed:a.useCallback(()=>[d.buttonElement,d.itemsElement],[d.buttonElement,d.itemsElement])});let A=d.menuState!==0,M=Br(A,d.buttonElement)?!1:K;a.useEffect(()=>{let S=d.itemsElement;S&&d.menuState===0&&S!==(F==null?void 0:F.activeElement)&&S.focus({preventScroll:!0})},[d.menuState,d.itemsElement,F]),pr(d.menuState===0,{container:d.itemsElement,accept(S){return S.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:S.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(S){S.setAttribute("role","none")}});let _=ye(),B=y(S=>{var $,g,T;switch(_.dispose(),S.key){case L.Space:if(d.searchQuery!=="")return S.preventDefault(),S.stopPropagation(),p({type:3,value:S.key});case L.Enter:if(S.preventDefault(),S.stopPropagation(),p({type:1}),d.activeItemIndex!==null){let{dataRef:C}=d.items[d.activeItemIndex];(g=($=C.current)==null?void 0:$.domRef.current)==null||g.click()}Ot(d.buttonElement);break;case L.ArrowDown:return S.preventDefault(),S.stopPropagation(),p({type:2,focus:q.Next});case L.ArrowUp:return S.preventDefault(),S.stopPropagation(),p({type:2,focus:q.Previous});case L.Home:case L.PageUp:return S.preventDefault(),S.stopPropagation(),p({type:2,focus:q.First});case L.End:case L.PageDown:return S.preventDefault(),S.stopPropagation(),p({type:2,focus:q.Last});case L.Escape:S.preventDefault(),S.stopPropagation(),pe.flushSync(()=>p({type:1})),(T=d.buttonElement)==null||T.focus({preventScroll:!0});break;case L.Tab:S.preventDefault(),S.stopPropagation(),pe.flushSync(()=>p({type:1})),zn(d.buttonElement,S.shiftKey?ee.Previous:ee.Next);break;default:S.key.length===1&&(p({type:3,value:S.key}),_.setTimeout(()=>p({type:4}),350));break}}),D=y(S=>{switch(S.key){case L.Space:S.preventDefault();break}}),Y=a.useMemo(()=>({open:d.menuState===0}),[d.menuState]),Q=be(m?v():{},{"aria-activedescendant":d.activeItemIndex===null||(n=d.items[d.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=d.buttonElement)==null?void 0:r.id,id:u,onKeyDown:B,onKeyUp:D,role:"menu",tabIndex:d.menuState===0?0:void 0,ref:x,style:{...c.style,...b,"--button-width":Ft(d.buttonElement,!0).width},...Me(I)}),X=U();return P.createElement(qt,{enabled:s?e.static||K:!1},X({ourProps:Q,theirProps:c,slot:Y,defaultTag:Jr,features:Zr,visible:M,name:"Menu.Items"}))}let tl=a.Fragment;function nl(e,t){let n=a.useId(),{id:r=`headlessui-menu-item-${n}`,disabled:l=!1,...u}=e,[i,s]=Le("Menu.Item"),o=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===r:!1,f=a.useRef(null),c=V(t,f);k(()=>{if(!i.__demoMode&&i.menuState===0&&o&&i.activationTrigger!==0)return te().requestAnimationFrame(()=>{var M,_;(_=(M=f.current)==null?void 0:M.scrollIntoView)==null||_.call(M,{block:"nearest"})})},[i.__demoMode,f,o,i.menuState,i.activationTrigger,i.activeItemIndex]);let m=Ur(f),d=a.useRef({disabled:l,domRef:f,get textValue(){return m()}});k(()=>{d.current.disabled=l},[d,l]),k(()=>(s({type:5,id:r,dataRef:d}),()=>s({type:6,id:r})),[d,r]);let p=y(()=>{s({type:1})}),h=y(M=>{if(l)return M.preventDefault();s({type:1}),Ot(i.buttonElement)}),b=y(()=>{if(l)return s({type:2,focus:q.Nothing});s({type:2,focus:q.Specific,id:r})}),v=or(),E=y(M=>{v.update(M),!l&&(o||s({type:2,focus:q.Specific,id:r,trigger:0}))}),w=y(M=>{v.wasMoved(M)&&(l||o||s({type:2,focus:q.Specific,id:r,trigger:0}))}),x=y(M=>{v.wasMoved(M)&&(l||o&&s({type:2,focus:q.Nothing}))}),[F,O]=Ct(),[K,I]=Mn(),N=a.useMemo(()=>({active:o,focus:o,disabled:l,close:p}),[o,l,p]),G={id:r,ref:c,role:"menuitem",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,"aria-labelledby":F,"aria-describedby":K,disabled:void 0,onClick:h,onFocus:b,onPointerEnter:E,onMouseEnter:E,onPointerMove:w,onMouseMove:w,onPointerLeave:x,onMouseLeave:x},A=U();return P.createElement(O,null,P.createElement(I,null,A({ourProps:G,theirProps:u,slot:N,defaultTag:tl,name:"Menu.Item"})))}let rl="div";function ll(e,t){let[n,r]=Ct(),l=e,u={ref:t,"aria-labelledby":n,role:"group"},i=U();return P.createElement(r,null,i({ourProps:u,theirProps:l,slot:{},defaultTag:rl,name:"Menu.Section"}))}let ul="header";function ol(e,t){let n=a.useId(),{id:r=`headlessui-menu-heading-${n}`,...l}=e,u=Je();k(()=>u.register(r),[r,u.register]);let i={id:r,ref:t,role:"presentation",...u.props};return U()({ourProps:i,theirProps:l,slot:{},defaultTag:ul,name:"Menu.Heading"})}let al="div";function il(e,t){let n=e,r={ref:t,role:"separator"};return U()({ourProps:r,theirProps:n,slot:{},defaultTag:al,name:"Menu.Separator"})}let sl=H(Qr),cl=H(zr),dl=H(el),fl=H(nl),pl=H(ll),ml=H(ol),vl=H(il),Vl=Object.assign(sl,{Button:cl,Items:dl,Item:fl,Section:pl,Heading:ml,Separator:vl});var hl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(hl||{}),gl=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(gl||{});let bl={0:e=>({...e,popoverState:z(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},lt=a.createContext(null);lt.displayName="PopoverContext";function De(e){let t=a.useContext(lt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,De),n}return t}let He=a.createContext(null);He.displayName="PopoverAPIContext";function ut(e){let t=a.useContext(He);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ut),n}return t}let ot=a.createContext(null);ot.displayName="PopoverGroupContext";function rn(){return a.useContext(ot)}let _e=a.createContext(null);_e.displayName="PopoverPanelContext";function El(){return a.useContext(_e)}function yl(e,t){return z(t.type,bl,e,t)}let Sl="div";function Pl(e,t){var n;let{__demoMode:r=!1,...l}=e,u=a.useRef(null),i=V(t,xt($=>{u.current=$})),s=a.useRef([]),o=a.useReducer(yl,{__demoMode:r,popoverState:r?0:1,buttons:s,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:a.createRef(),afterPanelSentinel:a.createRef(),afterButtonSentinel:a.createRef()}),[{popoverState:f,button:c,buttonId:m,panel:d,panelId:p,beforePanelSentinel:h,afterPanelSentinel:b,afterButtonSentinel:v},E]=o,w=de((n=u.current)!=null?n:c),x=a.useMemo(()=>{if(!c||!d)return!1;for(let j of document.querySelectorAll("body > *"))if(Number(j==null?void 0:j.contains(c))^Number(j==null?void 0:j.contains(d)))return!0;let $=Se(),g=$.indexOf(c),T=(g+$.length-1)%$.length,C=(g+1)%$.length,R=$[T],J=$[C];return!d.contains(R)&&!d.contains(J)},[c,d]),F=re(m),O=re(p),K=a.useMemo(()=>({buttonId:F,panelId:O,close:()=>E({type:1})}),[F,O,E]),I=rn(),N=I==null?void 0:I.registerPopover,G=y(()=>{var $;return($=I==null?void 0:I.isFocusWithinPopoverGroup())!=null?$:(w==null?void 0:w.activeElement)&&((c==null?void 0:c.contains(w.activeElement))||(d==null?void 0:d.contains(w.activeElement)))});a.useEffect(()=>N==null?void 0:N(K),[N,K]);let[A,M]=Fr(),_=Xt(c),B=Rr({mainTreeNode:_,portals:A,defaultContainers:[c,d]});er(w==null?void 0:w.defaultView,"focus",$=>{var g,T,C,R,J,j;$.target!==window&&$.target instanceof HTMLElement&&f===0&&(G()||c&&d&&(B.contains($.target)||(T=(g=h.current)==null?void 0:g.contains)!=null&&T.call(g,$.target)||(R=(C=b.current)==null?void 0:C.contains)!=null&&R.call(C,$.target)||(j=(J=v.current)==null?void 0:J.contains)!=null&&j.call(J,$.target)||E({type:1})))},!0),Lt(f===0,B.resolveContainers,($,g)=>{E({type:1}),Te(g,Fe.Loose)||($.preventDefault(),c==null||c.focus())});let D=y($=>{E({type:1});let g=$?$ instanceof HTMLElement?$:"current"in $&&$.current instanceof HTMLElement?$.current:c:c;g==null||g.focus()}),Y=a.useMemo(()=>({close:D,isPortalled:x}),[D,x]),Q=a.useMemo(()=>({open:f===0,close:D}),[f,D]),X={ref:i},S=U();return P.createElement(Qt,{node:_},P.createElement(Kt,null,P.createElement(_e.Provider,{value:null},P.createElement(lt.Provider,{value:o},P.createElement(He.Provider,{value:Y},P.createElement(_n,{value:D},P.createElement(tt,{value:z(f,{0:W.Open,1:W.Closed})},P.createElement(M,null,S({ourProps:X,theirProps:l,slot:Q,defaultTag:Sl,name:"Popover"})))))))))}let wl="button";function $l(e,t){let n=a.useId(),{id:r=`headlessui-popover-button-${n}`,disabled:l=!1,autoFocus:u=!1,...i}=e,[s,o]=De("Popover.Button"),{isPortalled:f}=ut("Popover.Button"),c=a.useRef(null),m=`headlessui-focus-sentinel-${a.useId()}`,d=rn(),p=d==null?void 0:d.closeOthers,h=El()!==null;a.useEffect(()=>{if(!h)return o({type:3,buttonId:r}),()=>{o({type:3,buttonId:null})}},[h,r,o]);let[b]=a.useState(()=>Symbol()),v=V(c,t,Bt(),y(g=>{if(!h){if(g)s.buttons.current.push(b);else{let T=s.buttons.current.indexOf(b);T!==-1&&s.buttons.current.splice(T,1)}s.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),g&&o({type:2,button:g})}})),E=V(c,t),w=de(c),x=y(g=>{var T,C,R;if(h){if(s.popoverState===1)return;switch(g.key){case L.Space:case L.Enter:g.preventDefault(),(C=(T=g.target).click)==null||C.call(T),o({type:1}),(R=s.button)==null||R.focus();break}}else switch(g.key){case L.Space:case L.Enter:g.preventDefault(),g.stopPropagation(),s.popoverState===1&&(p==null||p(s.buttonId)),o({type:0});break;case L.Escape:if(s.popoverState!==0)return p==null?void 0:p(s.buttonId);if(!c.current||w!=null&&w.activeElement&&!c.current.contains(w.activeElement))return;g.preventDefault(),g.stopPropagation(),o({type:1});break}}),F=y(g=>{h||g.key===L.Space&&g.preventDefault()}),O=y(g=>{var T,C;Xe(g.currentTarget)||l||(h?(o({type:1}),(T=s.button)==null||T.focus()):(g.preventDefault(),g.stopPropagation(),s.popoverState===1&&(p==null||p(s.buttonId)),o({type:0}),(C=s.button)==null||C.focus()))}),K=y(g=>{g.preventDefault(),g.stopPropagation()}),{isFocusVisible:I,focusProps:N}=bt({autoFocus:u}),{isHovered:G,hoverProps:A}=Et({isDisabled:l}),{pressed:M,pressProps:_}=St({disabled:l}),B=s.popoverState===0,D=a.useMemo(()=>({open:B,active:M||B,disabled:l,hover:G,focus:I,autofocus:u}),[B,G,I,M,l,u]),Y=Dt(e,s.button),Q=be(h?{ref:E,type:Y,onKeyDown:x,onClick:O,disabled:l||void 0,autoFocus:u}:{ref:v,id:s.buttonId,type:Y,"aria-expanded":s.popoverState===0,"aria-controls":s.panel?s.panelId:void 0,disabled:l||void 0,autoFocus:u,onKeyDown:x,onKeyUp:F,onClick:O,onMouseDown:K},N,A,_),X=zt(),S=y(()=>{let g=s.panel;if(!g)return;function T(){z(X.current,{[ne.Forwards]:()=>ue(g,ee.First),[ne.Backwards]:()=>ue(g,ee.Last)})===Ie.Error&&ue(Se().filter(C=>C.dataset.headlessuiFocusGuard!=="true"),z(X.current,{[ne.Forwards]:ee.Next,[ne.Backwards]:ee.Previous}),{relativeTo:s.button})}T()}),$=U();return P.createElement(P.Fragment,null,$({ourProps:Q,theirProps:i,slot:D,defaultTag:wl,name:"Popover.Button"}),B&&!h&&f&&P.createElement(xe,{id:m,ref:s.afterButtonSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:S}))}let xl="div",Il=oe.RenderStrategy|oe.Static;function ln(e,t){let n=a.useId(),{id:r=`headlessui-popover-backdrop-${n}`,transition:l=!1,...u}=e,[{popoverState:i},s]=De("Popover.Backdrop"),[o,f]=a.useState(null),c=V(t,f),m=Pe(),[d,p]=Re(l,o,m!==null?(m&W.Open)===W.Open:i===0),h=y(E=>{if(Xe(E.currentTarget))return E.preventDefault();s({type:1})}),b=a.useMemo(()=>({open:i===0}),[i]),v={ref:c,id:r,"aria-hidden":!0,onClick:h,...Me(p)};return U()({ourProps:v,theirProps:u,slot:b,defaultTag:xl,features:Il,visible:d,name:"Popover.Backdrop"})}let Cl="div",Fl=oe.RenderStrategy|oe.Static;function Tl(e,t){let n=a.useId(),{id:r=`headlessui-popover-panel-${n}`,focus:l=!1,anchor:u,portal:i=!1,modal:s=!1,transition:o=!1,...f}=e,[c,m]=De("Popover.Panel"),{close:d,isPortalled:p}=ut("Popover.Panel"),h=`headlessui-focus-sentinel-before-${n}`,b=`headlessui-focus-sentinel-after-${n}`,v=a.useRef(null),E=_t(u),[w,x]=Ut(E),F=jt();E&&(i=!0);let[O,K]=a.useState(null),I=V(v,t,E?w:null,y(g=>m({type:4,panel:g})),K),N=de(v);k(()=>(m({type:5,panelId:r}),()=>{m({type:5,panelId:null})}),[r,m]);let G=Pe(),[A,M]=Re(o,O,G!==null?(G&W.Open)===W.Open:c.popoverState===0);Rt(A,c.button,()=>{m({type:1})});let _=c.__demoMode?!1:s&&A;Ht(_,N);let B=y(g=>{var T;switch(g.key){case L.Escape:if(c.popoverState!==0||!v.current||N!=null&&N.activeElement&&!v.current.contains(N.activeElement))return;g.preventDefault(),g.stopPropagation(),m({type:1}),(T=c.button)==null||T.focus();break}});a.useEffect(()=>{var g;e.static||c.popoverState===1&&((g=e.unmount)==null||g)&&m({type:4,panel:null})},[c.popoverState,e.unmount,e.static,m]),a.useEffect(()=>{if(c.__demoMode||!l||c.popoverState!==0||!v.current)return;let g=N==null?void 0:N.activeElement;v.current.contains(g)||ue(v.current,ee.First)},[c.__demoMode,l,v.current,c.popoverState]);let D=a.useMemo(()=>({open:c.popoverState===0,close:d}),[c.popoverState,d]),Y=be(E?F():{},{ref:I,id:r,onKeyDown:B,onBlur:l&&c.popoverState===0?g=>{var T,C,R,J,j;let Z=g.relatedTarget;Z&&v.current&&((T=v.current)!=null&&T.contains(Z)||(m({type:1}),((R=(C=c.beforePanelSentinel.current)==null?void 0:C.contains)!=null&&R.call(C,Z)||(j=(J=c.afterPanelSentinel.current)==null?void 0:J.contains)!=null&&j.call(J,Z))&&Z.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...f.style,...x,"--button-width":Ft(c.button,!0).width},...Me(M)}),Q=zt(),X=y(()=>{let g=v.current;if(!g)return;function T(){z(Q.current,{[ne.Forwards]:()=>{var C;ue(g,ee.First)===Ie.Error&&((C=c.afterPanelSentinel.current)==null||C.focus())},[ne.Backwards]:()=>{var C;(C=c.button)==null||C.focus({preventScroll:!0})}})}T()}),S=y(()=>{let g=v.current;if(!g)return;function T(){z(Q.current,{[ne.Forwards]:()=>{if(!c.button)return;let C=Se(),R=C.indexOf(c.button),J=C.slice(0,R+1),j=[...C.slice(R+1),...J];for(let Z of j.slice())if(Z.dataset.headlessuiFocusGuard==="true"||O!=null&&O.contains(Z)){let fe=j.indexOf(Z);fe!==-1&&j.splice(fe,1)}ue(j,ee.First,{sorted:!1})},[ne.Backwards]:()=>{var C;ue(g,ee.Previous)===Ie.Error&&((C=c.button)==null||C.focus())}})}T()}),$=U();return P.createElement(gr,null,P.createElement(_e.Provider,{value:r},P.createElement(He.Provider,{value:{close:d,isPortalled:p}},P.createElement(qt,{enabled:i?e.static||A:!1},A&&p&&P.createElement(xe,{id:h,ref:c.beforePanelSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:X}),$({ourProps:Y,theirProps:f,slot:D,defaultTag:Cl,features:Fl,visible:A,name:"Popover.Panel"}),A&&p&&P.createElement(xe,{id:b,ref:c.afterPanelSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:S})))))}let Ml="div";function Rl(e,t){let n=a.useRef(null),r=V(n,t),[l,u]=a.useState([]),i=y(b=>{u(v=>{let E=v.indexOf(b);if(E!==-1){let w=v.slice();return w.splice(E,1),w}return v})}),s=y(b=>(u(v=>[...v,b]),()=>i(b))),o=y(()=>{var b;let v=ae(n);if(!v)return!1;let E=v.activeElement;return(b=n.current)!=null&&b.contains(E)?!0:l.some(w=>{var x,F;return((x=v.getElementById(w.buttonId.current))==null?void 0:x.contains(E))||((F=v.getElementById(w.panelId.current))==null?void 0:F.contains(E))})}),f=y(b=>{for(let v of l)v.buttonId.current!==b&&v.close()}),c=a.useMemo(()=>({registerPopover:s,unregisterPopover:i,isFocusWithinPopoverGroup:o,closeOthers:f}),[s,i,o,f]),m=a.useMemo(()=>({}),[]),d=e,p={ref:r},h=U();return P.createElement(Qt,null,P.createElement(ot.Provider,{value:c},h({ourProps:p,theirProps:d,slot:m,defaultTag:Ml,name:"Popover.Group"})))}let Ol=H(Pl),kl=H($l),Al=H(ln),Nl=H(ln),Ll=H(Tl),Dl=H(Rl),Gl=Object.assign(Ol,{Button:kl,Backdrop:Nl,Overlay:Al,Panel:Ll,Group:Dl});export{Gl as l,Vl as r,Wl as z};
