import{r as p,t as Ge}from"./react-BFkPTSB5.js";import{r as se}from"./react-dom-BhEmN__I.js";function ue(){return typeof window<"u"}function J(e){return Ie(e)?(e.nodeName||"").toLowerCase():"#document"}function L(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function N(e){var t;return(t=(Ie(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ie(e){return ue()?e instanceof Node||e instanceof L(e).Node:!1}function T(e){return ue()?e instanceof Element||e instanceof L(e).Element:!1}function W(e){return ue()?e instanceof HTMLElement||e instanceof L(e).HTMLElement:!1}function Ee(e){return!ue()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof L(e).ShadowRoot}function ne(e){const{overflow:t,overflowX:o,overflowY:n,display:i}=I(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(i)}function Je(e){return["table","td","th"].includes(J(e))}function ae(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function be(e){const t=ve(),o=T(e)?I(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Qe(e){let t=Y(e);for(;W(t)&&!G(t);){if(be(t))return t;if(ae(t))return null;t=Y(t)}return null}function ve(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function G(e){return["html","body","#document"].includes(J(e))}function I(e){return L(e).getComputedStyle(e)}function de(e){return T(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Y(e){if(J(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ee(e)&&e.host||N(e);return Ee(t)?t.host:t}function Be(e){const t=Y(e);return G(t)?e.ownerDocument?e.ownerDocument.body:e.body:W(t)&&ne(t)?t:Be(t)}function ee(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const i=Be(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),r=L(i);if(s){const c=xe(r);return t.concat(r,r.visualViewport||[],ne(i)?i:[],c&&o?ee(c):[])}return t.concat(i,ee(i,[],o))}function xe(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ze(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:o,version:n}=t;return o+"/"+n}).join(" "):navigator.userAgent}const q=Math.min,O=Math.max,te=Math.round,ie=Math.floor,$=e=>({x:e,y:e}),et={left:"right",right:"left",bottom:"top",top:"bottom"},tt={start:"end",end:"start"};function Oe(e,t,o){return O(e,q(t,o))}function Q(e,t){return typeof e=="function"?e(t):e}function j(e){return e.split("-")[0]}function oe(e){return e.split("-")[1]}function $e(e){return e==="x"?"y":"x"}function We(e){return e==="y"?"height":"width"}function U(e){return["top","bottom"].includes(j(e))?"y":"x"}function Ne(e){return $e(U(e))}function nt(e,t,o){o===void 0&&(o=!1);const n=oe(e),i=Ne(e),s=We(i);let r=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(r=ce(r)),[r,ce(r)]}function ot(e){const t=ce(e);return[ye(e),t,ye(t)]}function ye(e){return e.replace(/start|end/g,t=>tt[t])}function it(e,t,o){const n=["left","right"],i=["right","left"],s=["top","bottom"],r=["bottom","top"];switch(e){case"top":case"bottom":return o?t?i:n:t?n:i;case"left":case"right":return t?s:r;default:return[]}}function rt(e,t,o,n){const i=oe(e);let s=it(j(e),o==="start",n);return i&&(s=s.map(r=>r+"-"+i),t&&(s=s.concat(s.map(ye)))),s}function ce(e){return e.replace(/left|right|bottom|top/g,t=>et[t])}function st(e){return{top:0,right:0,bottom:0,left:0,...e}}function ct(e){return typeof e!="number"?st(e):{top:e,right:e,bottom:e,left:e}}function le(e){const{x:t,y:o,width:n,height:i}=e;return{width:n,height:i,top:o,left:t,right:t+n,bottom:o+i,x:t,y:o}}function Te(e,t,o){let{reference:n,floating:i}=e;const s=U(t),r=Ne(t),c=We(r),u=j(t),f=s==="y",l=n.x+n.width/2-i.width/2,m=n.y+n.height/2-i.height/2,g=n[c]/2-i[c]/2;let a;switch(u){case"top":a={x:l,y:n.y-i.height};break;case"bottom":a={x:l,y:n.y+n.height};break;case"right":a={x:n.x+n.width,y:m};break;case"left":a={x:n.x-i.width,y:m};break;default:a={x:n.x,y:n.y}}switch(oe(t)){case"start":a[r]-=g*(o&&f?-1:1);break;case"end":a[r]+=g*(o&&f?-1:1);break}return a}const lt=async(e,t,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:r}=o,c=s.filter(Boolean),u=await(r.isRTL==null?void 0:r.isRTL(t));let f=await r.getElementRects({reference:e,floating:t,strategy:i}),{x:l,y:m}=Te(f,n,u),g=n,a={},d=0;for(let h=0;h<c.length;h++){const{name:w,fn:y}=c[h],{x:R,y:x,data:b,reset:v}=await y({x:l,y:m,initialPlacement:n,placement:g,strategy:i,middlewareData:a,rects:f,platform:r,elements:{reference:e,floating:t}});l=R??l,m=x??m,a={...a,[w]:{...a[w],...b}},v&&d<=50&&(d++,typeof v=="object"&&(v.placement&&(g=v.placement),v.rects&&(f=v.rects===!0?await r.getElementRects({reference:e,floating:t,strategy:i}):v.rects),{x:l,y:m}=Te(f,g,u)),h=-1)}return{x:l,y:m,placement:g,strategy:i,middlewareData:a}};async function me(e,t){var o;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:r,elements:c,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:l="viewport",elementContext:m="floating",altBoundary:g=!1,padding:a=0}=Q(t,e),d=ct(a),w=c[g?m==="floating"?"reference":"floating":m],y=le(await s.getClippingRect({element:(o=await(s.isElement==null?void 0:s.isElement(w)))==null||o?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:f,rootBoundary:l,strategy:u})),R=m==="floating"?{x:n,y:i,width:r.floating.width,height:r.floating.height}:r.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),b=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},v=le(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:R,offsetParent:x,strategy:u}):R);return{top:(y.top-v.top+d.top)/b.y,bottom:(v.bottom-y.bottom+d.bottom)/b.y,left:(y.left-v.left+d.left)/b.x,right:(v.right-y.right+d.right)/b.x}}const ft=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:i,middlewareData:s,rects:r,initialPlacement:c,platform:u,elements:f}=t,{mainAxis:l=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:a="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:h=!0,...w}=Q(e,t);if((o=s.arrow)!=null&&o.alignmentOffset)return{};const y=j(i),R=U(c),x=j(c)===c,b=await(u.isRTL==null?void 0:u.isRTL(f.floating)),v=g||(x||!h?[ce(c)]:ot(c)),A=d!=="none";!g&&A&&v.push(...rt(c,h,d,b));const E=[c,...v],D=await me(t,w),B=[];let S=((n=s.flip)==null?void 0:n.overflows)||[];if(l&&B.push(D[y]),m){const H=nt(i,r,b);B.push(D[H[0]],D[H[1]])}if(S=[...S,{placement:i,overflows:B}],!B.every(H=>H<=0)){var M,_;const H=(((M=s.flip)==null?void 0:M.index)||0)+1,Z=E[H];if(Z)return{data:{index:H,overflows:S},reset:{placement:Z}};let P=(_=S.filter(V=>V.overflows[0]<=0).sort((V,C)=>V.overflows[1]-C.overflows[1])[0])==null?void 0:_.placement;if(!P)switch(a){case"bestFit":{var k;const V=(k=S.filter(C=>{if(A){const F=U(C.placement);return F===R||F==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(F=>F>0).reduce((F,z)=>F+z,0)]).sort((C,F)=>C[1]-F[1])[0])==null?void 0:k[0];V&&(P=V);break}case"initialPlacement":P=c;break}if(i!==P)return{reset:{placement:P}}}return{}}}};async function ut(e,t){const{placement:o,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),r=j(o),c=oe(o),u=U(o)==="y",f=["left","top"].includes(r)?-1:1,l=s&&u?-1:1,m=Q(t,e);let{mainAxis:g,crossAxis:a,alignmentAxis:d}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof d=="number"&&(a=c==="end"?d*-1:d),u?{x:a*l,y:g*f}:{x:g*f,y:a*l}}const at=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:i,y:s,placement:r,middlewareData:c}=t,u=await ut(t,e);return r===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:r}}}}},dt=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:r=!1,limiter:c={fn:w=>{let{x:y,y:R}=w;return{x:y,y:R}}},...u}=Q(e,t),f={x:o,y:n},l=await me(t,u),m=U(j(i)),g=$e(m);let a=f[g],d=f[m];if(s){const w=g==="y"?"top":"left",y=g==="y"?"bottom":"right",R=a+l[w],x=a-l[y];a=Oe(R,a,x)}if(r){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",R=d+l[w],x=d-l[y];d=Oe(R,d,x)}const h=c.fn({...t,[g]:a,[m]:d});return{...h,data:{x:h.x-o,y:h.y-n,enabled:{[g]:s,[m]:r}}}}}},mt=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var o,n;const{placement:i,rects:s,platform:r,elements:c}=t,{apply:u=()=>{},...f}=Q(e,t),l=await me(t,f),m=j(i),g=oe(i),a=U(i)==="y",{width:d,height:h}=s.floating;let w,y;m==="top"||m==="bottom"?(w=m,y=g===(await(r.isRTL==null?void 0:r.isRTL(c.floating))?"start":"end")?"left":"right"):(y=m,w=g==="end"?"top":"bottom");const R=h-l.top-l.bottom,x=d-l.left-l.right,b=q(h-l[w],R),v=q(d-l[y],x),A=!t.middlewareData.shift;let E=b,D=v;if((o=t.middlewareData.shift)!=null&&o.enabled.x&&(D=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=R),A&&!g){const S=O(l.left,0),M=O(l.right,0),_=O(l.top,0),k=O(l.bottom,0);a?D=d-2*(S!==0||M!==0?S+M:O(l.left,l.right)):E=h-2*(_!==0||k!==0?_+k:O(l.top,l.bottom))}await u({...t,availableWidth:D,availableHeight:E});const B=await r.getDimensions(c.floating);return d!==B.width||h!==B.height?{reset:{rects:!0}}:{}}}};function Ve(e){const t=I(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=W(e),s=i?e.offsetWidth:o,r=i?e.offsetHeight:n,c=te(o)!==s||te(n)!==r;return c&&(o=s,n=r),{width:o,height:n,$:c}}function Ce(e){return T(e)?e:e.contextElement}function X(e){const t=Ce(e);if(!W(t))return $(1);const o=t.getBoundingClientRect(),{width:n,height:i,$:s}=Ve(t);let r=(s?te(o.width):o.width)/n,c=(s?te(o.height):o.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!c||!Number.isFinite(c))&&(c=1),{x:r,y:c}}const gt=$(0);function _e(e){const t=L(e);return!ve()||!t.visualViewport?gt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ht(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==L(e)?!1:t}function K(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const i=e.getBoundingClientRect(),s=Ce(e);let r=$(1);t&&(n?T(n)&&(r=X(n)):r=X(e));const c=ht(s,o,n)?_e(s):$(0);let u=(i.left+c.x)/r.x,f=(i.top+c.y)/r.y,l=i.width/r.x,m=i.height/r.y;if(s){const g=L(s),a=n&&T(n)?L(n):n;let d=g,h=xe(d);for(;h&&n&&a!==d;){const w=X(h),y=h.getBoundingClientRect(),R=I(h),x=y.left+(h.clientLeft+parseFloat(R.paddingLeft))*w.x,b=y.top+(h.clientTop+parseFloat(R.paddingTop))*w.y;u*=w.x,f*=w.y,l*=w.x,m*=w.y,u+=x,f+=b,d=L(h),h=xe(d)}}return le({width:l,height:m,x:u,y:f})}function Ae(e,t){const o=de(e).scrollLeft;return t?t.left+o:K(N(e)).left+o}function ze(e,t,o){o===void 0&&(o=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(o?0:Ae(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function pt(e){let{elements:t,rect:o,offsetParent:n,strategy:i}=e;const s=i==="fixed",r=N(n),c=t?ae(t.floating):!1;if(n===r||c&&s)return o;let u={scrollLeft:0,scrollTop:0},f=$(1);const l=$(0),m=W(n);if((m||!m&&!s)&&((J(n)!=="body"||ne(r))&&(u=de(n)),W(n))){const a=K(n);f=X(n),l.x=a.x+n.clientLeft,l.y=a.y+n.clientTop}const g=r&&!m&&!s?ze(r,u,!0):$(0);return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-u.scrollLeft*f.x+l.x+g.x,y:o.y*f.y-u.scrollTop*f.y+l.y+g.y}}function wt(e){return Array.from(e.getClientRects())}function xt(e){const t=N(e),o=de(e),n=e.ownerDocument.body,i=O(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=O(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let r=-o.scrollLeft+Ae(e);const c=-o.scrollTop;return I(n).direction==="rtl"&&(r+=O(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:r,y:c}}function yt(e,t){const o=L(e),n=N(e),i=o.visualViewport;let s=n.clientWidth,r=n.clientHeight,c=0,u=0;if(i){s=i.width,r=i.height;const f=ve();(!f||f&&t==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:s,height:r,x:c,y:u}}function Rt(e,t){const o=K(e,!0,t==="fixed"),n=o.top+e.clientTop,i=o.left+e.clientLeft,s=W(e)?X(e):$(1),r=e.clientWidth*s.x,c=e.clientHeight*s.y,u=i*s.x,f=n*s.y;return{width:r,height:c,x:u,y:f}}function Se(e,t,o){let n;if(t==="viewport")n=yt(e,o);else if(t==="document")n=xt(N(e));else if(T(t))n=Rt(t,o);else{const i=_e(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return le(n)}function Ye(e,t){const o=Y(e);return o===t||!T(o)||G(o)?!1:I(o).position==="fixed"||Ye(o,t)}function bt(e,t){const o=t.get(e);if(o)return o;let n=ee(e,[],!1).filter(c=>T(c)&&J(c)!=="body"),i=null;const s=I(e).position==="fixed";let r=s?Y(e):e;for(;T(r)&&!G(r);){const c=I(r),u=be(r);!u&&c.position==="fixed"&&(i=null),(s?!u&&!i:!u&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ne(r)&&!u&&Ye(e,r))?n=n.filter(l=>l!==r):i=c,r=Y(r)}return t.set(e,n),n}function vt(e){let{element:t,boundary:o,rootBoundary:n,strategy:i}=e;const r=[...o==="clippingAncestors"?ae(t)?[]:bt(t,this._c):[].concat(o),n],c=r[0],u=r.reduce((f,l)=>{const m=Se(t,l,i);return f.top=O(m.top,f.top),f.right=q(m.right,f.right),f.bottom=q(m.bottom,f.bottom),f.left=O(m.left,f.left),f},Se(t,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Ct(e){const{width:t,height:o}=Ve(e);return{width:t,height:o}}function At(e,t,o){const n=W(t),i=N(t),s=o==="fixed",r=K(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const u=$(0);if(n||!n&&!s)if((J(t)!=="body"||ne(i))&&(c=de(t)),n){const g=K(t,!0,s,t);u.x=g.x+t.clientLeft,u.y=g.y+t.clientTop}else i&&(u.x=Ae(i));const f=i&&!n&&!s?ze(i,c):$(0),l=r.left+c.scrollLeft-u.x-f.x,m=r.top+c.scrollTop-u.y-f.y;return{x:l,y:m,width:r.width,height:r.height}}function ge(e){return I(e).position==="static"}function De(e,t){if(!W(e)||I(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return N(e)===o&&(o=o.ownerDocument.body),o}function je(e,t){const o=L(e);if(ae(e))return o;if(!W(e)){let i=Y(e);for(;i&&!G(i);){if(T(i)&&!ge(i))return i;i=Y(i)}return o}let n=De(e,t);for(;n&&Je(n)&&ge(n);)n=De(n,t);return n&&G(n)&&ge(n)&&!be(n)?o:n||Qe(e)||o}const Et=async function(e){const t=this.getOffsetParent||je,o=this.getDimensions,n=await o(e.floating);return{reference:At(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ot(e){return I(e).direction==="rtl"}const Tt={convertOffsetParentRelativeRectToViewportRelativeRect:pt,getDocumentElement:N,getClippingRect:vt,getOffsetParent:je,getElementRects:Et,getClientRects:wt,getDimensions:Ct,getScale:X,isElement:T,isRTL:Ot};function qe(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function St(e,t){let o=null,n;const i=N(e);function s(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function r(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const f=e.getBoundingClientRect(),{left:l,top:m,width:g,height:a}=f;if(c||t(),!g||!a)return;const d=ie(m),h=ie(i.clientWidth-(l+g)),w=ie(i.clientHeight-(m+a)),y=ie(l),x={rootMargin:-d+"px "+-h+"px "+-w+"px "+-y+"px",threshold:O(0,q(1,u))||1};let b=!0;function v(A){const E=A[0].intersectionRatio;if(E!==u){if(!b)return r();E?r(!1,E):n=setTimeout(()=>{r(!1,1e-7)},1e3)}E===1&&!qe(f,e.getBoundingClientRect())&&r(),b=!1}try{o=new IntersectionObserver(v,{...x,root:i.ownerDocument})}catch{o=new IntersectionObserver(v,x)}o.observe(e)}return r(!0),s}function Jt(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=Ce(e),l=i||s?[...f?ee(f):[],...ee(t)]:[];l.forEach(y=>{i&&y.addEventListener("scroll",o,{passive:!0}),s&&y.addEventListener("resize",o)});const m=f&&c?St(f,o):null;let g=-1,a=null;r&&(a=new ResizeObserver(y=>{let[R]=y;R&&R.target===f&&a&&(a.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=a)==null||x.observe(t)})),o()}),f&&!u&&a.observe(f),a.observe(t));let d,h=u?K(e):null;u&&w();function w(){const y=K(e);h&&!qe(h,y)&&o(),h=y,d=requestAnimationFrame(w)}return o(),()=>{var y;l.forEach(R=>{i&&R.removeEventListener("scroll",o),s&&R.removeEventListener("resize",o)}),m==null||m(),(y=a)==null||y.disconnect(),a=null,u&&cancelAnimationFrame(d)}}const he=me,Dt=at,Mt=dt,Pt=ft,Ft=mt,Lt=(e,t,o)=>{const n=new Map,i={platform:Tt,...o},s={...i.platform,_c:n};return lt(e,t,{...i,platform:s})};var re=typeof document<"u"?p.useLayoutEffect:p.useEffect;function fe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let o,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==t.length)return!1;for(n=o;n--!==0;)if(!fe(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),o=i.length,o!==Object.keys(t).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=o;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!fe(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function Ue(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Me(e,t){const o=Ue(e);return Math.round(t*o)/o}function pe(e){const t=p.useRef(e);return re(()=>{t.current=e}),t}function kt(e){e===void 0&&(e={});const{placement:t="bottom",strategy:o="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:r}={},transform:c=!0,whileElementsMounted:u,open:f}=e,[l,m]=p.useState({x:0,y:0,strategy:o,placement:t,middlewareData:{},isPositioned:!1}),[g,a]=p.useState(n);fe(g,n)||a(n);const[d,h]=p.useState(null),[w,y]=p.useState(null),R=p.useCallback(C=>{C!==A.current&&(A.current=C,h(C))},[]),x=p.useCallback(C=>{C!==E.current&&(E.current=C,y(C))},[]),b=s||d,v=r||w,A=p.useRef(null),E=p.useRef(null),D=p.useRef(l),B=u!=null,S=pe(u),M=pe(i),_=pe(f),k=p.useCallback(()=>{if(!A.current||!E.current)return;const C={placement:t,strategy:o,middleware:g};M.current&&(C.platform=M.current),Lt(A.current,E.current,C).then(F=>{const z={...F,isPositioned:_.current!==!1};H.current&&!fe(D.current,z)&&(D.current=z,se.flushSync(()=>{m(z)}))})},[g,t,o,M,_]);re(()=>{f===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(C=>({...C,isPositioned:!1})))},[f]);const H=p.useRef(!1);re(()=>(H.current=!0,()=>{H.current=!1}),[]),re(()=>{if(b&&(A.current=b),v&&(E.current=v),b&&v){if(S.current)return S.current(b,v,k);k()}},[b,v,k,S,B]);const Z=p.useMemo(()=>({reference:A,floating:E,setReference:R,setFloating:x}),[R,x]),P=p.useMemo(()=>({reference:b,floating:v}),[b,v]),V=p.useMemo(()=>{const C={position:o,left:0,top:0};if(!P.floating)return C;const F=Me(P.floating,l.x),z=Me(P.floating,l.y);return c?{...C,transform:"translate("+F+"px, "+z+"px)",...Ue(P.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:F,top:z}},[o,c,P.floating,l.x,l.y]);return p.useMemo(()=>({...l,update:k,refs:Z,elements:P,floatingStyles:V}),[l,k,Z,P,V])}const Ht=(e,t)=>({...Dt(e),options:[e,t]}),Qt=(e,t)=>({...Mt(e),options:[e,t]}),Zt=(e,t)=>({...Pt(e),options:[e,t]}),en=(e,t)=>({...Ft(e),options:[e,t]}),Ke={...Ge},It=Ke.useInsertionEffect,Bt=It||(e=>e());function Xe(e){const t=p.useRef(()=>{});return Bt(()=>{t.current=e}),p.useCallback(function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}var Re=typeof document<"u"?p.useLayoutEffect:p.useEffect;let Pe=!1,$t=0;const Fe=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+$t++;function Wt(){const[e,t]=p.useState(()=>Pe?Fe():void 0);return Re(()=>{e==null&&t(Fe())},[]),p.useEffect(()=>{Pe=!0},[]),e}const Nt=Ke.useId,Vt=Nt||Wt;function _t(){const e=new Map;return{emit(t,o){var n;(n=e.get(t))==null||n.forEach(i=>i(o))},on(t,o){e.set(t,[...e.get(t)||[],o])},off(t,o){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(i=>i!==o))||[])}}}const zt=p.createContext(null),Yt=p.createContext(null),jt=()=>{var e;return((e=p.useContext(zt))==null?void 0:e.id)||null},qt=()=>p.useContext(Yt),Ut="data-floating-ui-focusable";function Kt(e){const{open:t=!1,onOpenChange:o,elements:n}=e,i=Vt(),s=p.useRef({}),[r]=p.useState(()=>_t()),c=jt()!=null,[u,f]=p.useState(n.reference),l=Xe((a,d,h)=>{s.current.openEvent=a?d:void 0,r.emit("openchange",{open:a,event:d,reason:h,nested:c}),o==null||o(a,d,h)}),m=p.useMemo(()=>({setPositionReference:f}),[]),g=p.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return p.useMemo(()=>({dataRef:s,open:t,onOpenChange:l,elements:g,events:r,floatingId:i,refs:m}),[t,l,g,r,i,m])}function tn(e){e===void 0&&(e={});const{nodeId:t}=e,o=Kt({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||o,i=n.elements,[s,r]=p.useState(null),[c,u]=p.useState(null),l=(i==null?void 0:i.domReference)||s,m=p.useRef(null),g=qt();Re(()=>{l&&(m.current=l)},[l]);const a=kt({...e,elements:{...i,...c&&{reference:c}}}),d=p.useCallback(x=>{const b=T(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;u(b),a.refs.setReference(b)},[a.refs]),h=p.useCallback(x=>{(T(x)||x===null)&&(m.current=x,r(x)),(T(a.refs.reference.current)||a.refs.reference.current===null||x!==null&&!T(x))&&a.refs.setReference(x)},[a.refs]),w=p.useMemo(()=>({...a.refs,setReference:h,setPositionReference:d,domReference:m}),[a.refs,h,d]),y=p.useMemo(()=>({...a.elements,domReference:l}),[a.elements,l]),R=p.useMemo(()=>({...a,...n,refs:w,elements:y,nodeId:t}),[a,w,y,t,n]);return Re(()=>{n.dataRef.current.floatingContext=R;const x=g==null?void 0:g.nodesRef.current.find(b=>b.id===t);x&&(x.context=R)}),p.useMemo(()=>({...a,context:R,refs:w,elements:y}),[a,w,y,R])}const Le="active",ke="selected";function we(e,t,o){const n=new Map,i=o==="item";let s=e;if(i&&e){const{[Le]:r,[ke]:c,...u}=e;s=u}return{...o==="floating"&&{tabIndex:-1,[Ut]:""},...s,...t.map(r=>{const c=r?r[o]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((r,c)=>(c&&Object.entries(c).forEach(u=>{let[f,l]=u;if(!(i&&[Le,ke].includes(f)))if(f.indexOf("on")===0){if(n.has(f)||n.set(f,[]),typeof l=="function"){var m;(m=n.get(f))==null||m.push(l),r[f]=function(){for(var g,a=arguments.length,d=new Array(a),h=0;h<a;h++)d[h]=arguments[h];return(g=n.get(f))==null?void 0:g.map(w=>w(...d)).find(w=>w!==void 0)}}}else r[f]=l}),r),{})}}function nn(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),o=e.map(c=>c==null?void 0:c.floating),n=e.map(c=>c==null?void 0:c.item),i=p.useCallback(c=>we(c,e,"reference"),t),s=p.useCallback(c=>we(c,e,"floating"),o),r=p.useCallback(c=>we(c,e,"item"),n);return p.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:r}),[i,s,r])}function He(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const on=e=>({name:"inner",options:e,async fn(t){const{listRef:o,overflowRef:n,onFallbackChange:i,offset:s=0,index:r=0,minItemsVisible:c=4,referenceOverflowThreshold:u=0,scrollRef:f,...l}=Q(e,t),{rects:m,elements:{floating:g}}=t,a=o.current[r],d=(f==null?void 0:f.current)||g,h=g.clientTop||d.clientTop,w=g.clientTop!==0,y=d.clientTop!==0,R=g===d;if(!a)return{};const x={...t,...await Ht(-a.offsetTop-g.clientTop-m.reference.height/2-a.offsetHeight/2-s).fn(t)},b=await he(He(x,d.scrollHeight+h+g.clientTop),l),v=await he(x,{...l,elementContext:"reference"}),A=O(0,b.top),E=x.y+A,S=(d.scrollHeight>d.clientHeight?M=>M:te)(O(0,d.scrollHeight+(w&&R||y?h*2:0)-A-O(0,b.bottom)));if(d.style.maxHeight=S+"px",d.scrollTop=A,i){const M=d.offsetHeight<a.offsetHeight*q(c,o.current.length)-1||v.top>=-u||v.bottom>=-u;se.flushSync(()=>i(M))}return n&&(n.current=await he(He({...x,y:E},d.offsetHeight+h+g.clientTop),l)),{y:E}}});function rn(e,t){const{open:o,elements:n}=e,{enabled:i=!0,overflowRef:s,scrollRef:r,onChange:c}=t,u=Xe(c),f=p.useRef(!1),l=p.useRef(null),m=p.useRef(null);p.useEffect(()=>{if(!i)return;function a(h){if(h.ctrlKey||!d||s.current==null)return;const w=h.deltaY,y=s.current.top>=-.5,R=s.current.bottom>=-.5,x=d.scrollHeight-d.clientHeight,b=w<0?-1:1,v=w<0?"max":"min";d.scrollHeight<=d.clientHeight||(!y&&w>0||!R&&w<0?(h.preventDefault(),se.flushSync(()=>{u(A=>A+Math[v](w,x*b))})):/firefox/i.test(Ze())&&(d.scrollTop+=w))}const d=(r==null?void 0:r.current)||n.floating;if(o&&d)return d.addEventListener("wheel",a),requestAnimationFrame(()=>{l.current=d.scrollTop,s.current!=null&&(m.current={...s.current})}),()=>{l.current=null,m.current=null,d.removeEventListener("wheel",a)}},[i,o,n.floating,s,r,u]);const g=p.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const a=(r==null?void 0:r.current)||n.floating;if(!(!s.current||!a||!f.current)){if(l.current!==null){const d=a.scrollTop-l.current;(s.current.bottom<-.5&&d<-1||s.current.top<-.5&&d>1)&&se.flushSync(()=>u(h=>h+d))}requestAnimationFrame(()=>{l.current=a.scrollTop})}}}),[n.floating,u,s,r]);return p.useMemo(()=>i?{floating:g}:{},[i,g])}export{en as a,Jt as b,rn as c,nn as d,Zt as f,on as i,Ht as o,Qt as s,tn as u};
